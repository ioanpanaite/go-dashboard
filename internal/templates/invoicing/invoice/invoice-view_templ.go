// Code generated by templ - DO NOT EDIT.

// templ: version: v0.2.648
package invoice_view

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import "context"
import "io"
import "bytes"

import "kub/dashboardES/internal/templates/layout"
import "kub/dashboardES/internal/models"
import "fmt"

// import "fmt"

type InvoiceViewData struct {
	Module    string
	Companies []models.Company
	Page      string
	Route     string
}

func InvoiceView(data InvoiceViewData) templ.Component {
	return templ.ComponentFunc(func(ctx context.Context, templ_7745c5c3_W io.Writer) (templ_7745c5c3_Err error) {
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templ_7745c5c3_W.(*bytes.Buffer)
		if !templ_7745c5c3_IsBuffer {
			templ_7745c5c3_Buffer = templ.GetBuffer()
			defer templ.ReleaseBuffer(templ_7745c5c3_Buffer)
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<style>\n\t.choices{\n\t\twidth: 250px !important; \n\t}\n\t</style>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Var2 := templ.ComponentFunc(func(ctx context.Context, templ_7745c5c3_W io.Writer) (templ_7745c5c3_Err error) {
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templ_7745c5c3_W.(*bytes.Buffer)
			if !templ_7745c5c3_IsBuffer {
				templ_7745c5c3_Buffer = templ.GetBuffer()
				defer templ.ReleaseBuffer(templ_7745c5c3_Buffer)
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(" <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css\"><script src=\"https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js\"></script> <div id=\"invoiceTable\" class=\"mx-auto\"><!-- Tab Headers --><div class=\"bg-gray-300 py-1\"><ul class=\"flex\"><li class=\"ml-1\"><button id=\"tab1\" class=\"tab-button bg-black text-white py-2 px-4 focus:outline-none rounded-md\" role=\"tab\" aria-selected=\"true\" aria-controls=\"panel1\">Company Invoices</button></li><li class=\"ml-1\"><button id=\"tab2\" class=\"tab-button bg-gray-800 text-white py-2 px-4 focus:outline-none rounded-md\" role=\"tab\" aria-selected=\"false\" aria-controls=\"panel2\">Client Invoices</button></li></ul></div><!-- Company Invoices --><div id=\"panel1\" class=\"tab-panel pt-2 container mx-auto\" role=\"tabpanel\" aria-labelledby=\"tab1\"><div class=\"container w-full m-2 border-black shadow-lg rounded-md overflow-hidden\"><div class=\"bg-black text-white py-2 px-4 flex items-center\"><h2 class=\"font-semibold\">Company Invoices</h2><div class=\"grow\"></div><div class=\"flex bg-gray-800\"><sl-button class=\"hidden\" size=\"small\" id=\"prevPageEmployee\" type=\"submit\"><i class=\"fas fa-chevron-left\"></i></sl-button> <sl-input class=\"hidden w-12\" id=\"employeePage\" size=\"small\" min=\"0\" step=\"1\" type=\"number\" readonly value=\"0\"></sl-input> <sl-button class=\"hidden\" size=\"small\" id=\"nextPageEmployee\" type=\"submit\"><i class=\"fas fa-chevron-right\"></i></sl-button></div><div class=\"w-2\"></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templ.RenderScriptItems(ctx, templ_7745c5c3_Buffer, showCreateInvoice())
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<sl-button size=\"small\" id=\"Add-invoice\" onclick=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var3 templ.ComponentScript = showCreateInvoice()
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ_7745c5c3_Var3.Call)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\">Create Invoice</sl-button><div class=\"w-2\"></div><button id=\"companyInvoiceRefresh\" class=\"filterable-hx-rows bg-white hover:bg-blue-50 rounded p-2\" hx-get=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 string
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs("/panels/invoicing/invoice/search")
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/templates/invoicing/invoice/invoice-view.templ`, Line: 107, Col: 50}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\" hx-trigger=\"click\" hx-target=\"#company-invoice-tbody\" hx-swap=\"innerHTML\" hx-indicator=\".htmx-indicator\"><sl-icon class=\"text-gray-700 hover:text-blue-700 text-md\" name=\"arrow-clockwise\"></sl-icon></button></div><table class=\"min-w-full leading-normal\"><thead><tr><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><div class=\"flex flex-col\"><span>Reference</span></div></th><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><div class=\"flex flex-col\"><span>Company</span></div></th><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><div class=\"flex flex-col\"><span>Peroid</span></div></th><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><div class=\"flex flex-col\"><span>Created At</span></div></th><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><span>Amount</span></th><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><span>State</span></th><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><span>Actions</span></th></tr></thead> <tbody id=\"company-invoice-tbody\" class=\"filterable-hx-rows\" hx-get=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var5 string
			templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs("/panels/invoicing/invoice/search")
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/templates/invoicing/invoice/invoice-view.templ`, Line: 167, Col: 50}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\" hx-trigger=\"filterUpdateEvent\" hx-target=\"#company-invoice-tbody\" hx-swap=\"innerHTML\" hx-indicator=\".htmx-indicator\"><td colspan=\"12\" class=\"px-1 py-1 border-b border-gray-200 text-sm text-center h-20\" id=\"spinner\">Filter to show results<!-- <sl-spinner class=\"text-2xl m-5\"></sl-spinner> --></td></tbody></table><div class=\"bg-black min-h-4 p-2 flex\"></div></div></div><!-- Client Invoices --><div id=\"panel2\" class=\"tab-panel hidden pt-2 container mx-auto\" role=\"tabpanel\" aria-labelledby=\"tab2\"><div class=\"container w-full m-2 border-black shadow-lg rounded-md overflow-hidden\"><div class=\"bg-black text-white py-2 px-4 flex items-center\"><h2 class=\"font-semibold\">Client Invoices</h2><div class=\"grow\"></div><div class=\"flex bg-gray-800\"><sl-button class=\"hidden\" size=\"small\" id=\"prevPageEmployee\" type=\"submit\"><i class=\"fas fa-chevron-left\"></i></sl-button> <sl-input class=\"hidden w-12\" id=\"employeePage\" size=\"small\" min=\"0\" step=\"1\" type=\"number\" readonly value=\"0\"></sl-input> <sl-button class=\"hidden\" size=\"small\" id=\"nextPageEmployee\" type=\"submit\"><i class=\"fas fa-chevron-right\"></i></sl-button></div><div class=\"w-2\"></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templ.RenderScriptItems(ctx, templ_7745c5c3_Buffer, showCreateInvoice())
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<sl-button size=\"small\" id=\"Add-invoice\" onclick=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var6 templ.ComponentScript = showCreateInvoice()
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ_7745c5c3_Var6.Call)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\">Create Invoice</sl-button><div class=\"w-2\"></div><button size=\"small\" id=\"Refresh-Employee-charges\" class=\"filterable-hx-rows bg-white hover:bg-blue-50 rounded p-2\" hx-get=\"/panels/invoicing/clientInvoice/search\" hx-trigger=\"click\" hx-target=\"#employee-invoice-tbody\" hx-swap=\"innerHTML\" hx-indicator=\".htmx-indicator\"><sl-icon class=\"text-gray-700 hover:text-blue-700 text-md\" name=\"arrow-clockwise\"></sl-icon></button></div><table class=\"min-w-full leading-normal\"><thead><tr><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><div class=\"flex flex-col\"><span>Reference</span></div></th><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><div class=\"flex flex-col\"><span>Client Company</span></div></th><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><span>Date</span></th><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><span>Paid At</span></th><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><span>Amount</span></th><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><span>Template</span></th><th class=\"px-2 py-2 bg-gray-800 text-left text-xs font-semibold text-gray-300 uppercase tracking-wider\"><span>Actions</span></th></tr></thead><tbody id=\"employee-invoice-tbody\" class=\"filterable-hx-rows\" hx-get=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var7 string
			templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs("/panels/invoicing/clientInvoice/search")
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/templates/invoicing/invoice/invoice-view.templ`, Line: 298, Col: 56}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\" hx-trigger=\"filterUpdateEvent\" hx-target=\"#employee-invoice-tbody\" hx-swap=\"innerHTML\" hx-indicator=\".htmx-indicator\"><td colspan=\"12\" class=\"px-1 py-1 border-b border-gray-200 text-sm text-center h-20\" id=\"spinner\">Filter to show results<!-- <sl-spinner class=\"text-2xl m-5\"></sl-spinner> --></td></tbody></table><div class=\"bg-black min-h-4 p-2\"></div></div></div></div> <div id=\"createInvoiceDialog\" class=\"mx-auto hidden\"><div class=\"modal-content bg-white shadow-md rounded pb-2\"><div class=\"bg-black flex items-center w-full justify-between py-2 px-4  \"><h2 id=\"invoiceFormTitle\" class=\"text-white font-semibold\">Create Invoice</h2>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templ.RenderScriptItems(ctx, templ_7745c5c3_Buffer, closeInvoiceForm())
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<sl-button size=\"small\" variant=\"danger\" onclick=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var8 templ.ComponentScript = closeInvoiceForm()
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ_7745c5c3_Var8.Call)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\">Close</sl-button></div><div class=\"flex justify-between items-center gap-10 py-3 px-8\"><div class=\"flex flex-col\"><label for=\"selCompany\">Select a company:</label> <select id=\"selCompany\" class=\"selCompany\" style=\"padding: 5px\"><option selected disabled value=\"\">Select a Company</option> ")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for _, com := range data.Companies {
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<option value=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var9 string
				templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(fmt.Sprintf("%d#%v", com.Id, com.Uuid))
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/templates/invoicing/invoice/invoice-view.templ`, Line: 338, Col: 62}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\">")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var10 string
				templ_7745c5c3_Var10, templ_7745c5c3_Err = templ.JoinStringErrs(com.Name)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/templates/invoicing/invoice/invoice-view.templ`, Line: 338, Col: 75}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var10))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("</option>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("</select></div><button type=\"button\" id=\"getInvoiceFormBtn\" hx-get=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var11 string
			templ_7745c5c3_Var11, templ_7745c5c3_Err = templ.JoinStringErrs("/panels/invoicing/invoice/form/new")
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/templates/invoicing/invoice/invoice-view.templ`, Line: 345, Col: 51}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var11))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("\" class=\"filterable-hx-rows hidden\" hx-trigger=\"click delay:50ms\" hx-target=\"#invoiceFormContent\" hx-swap=\"innerHTML\" hx-indicator=\".htmx-indicator\"></button><div class=\"flex items-center justify-center gap-2\"><sl-button id=\"invoiceActionBtn\" hx-trigger=\"click delay:50ms\" hx-post=\"/panels/invoicing/invoice/new\" class=\"filterable-hx-rows\" hx-indicator=\".htmx-indicator\" hx-swap=\"none\" hx-on::before-request=\"document.getElementById(&#39;invoiceActionBtn&#39;).loading=true;\" hx-on::after-request=\"successAndClose();document.getElementById(&#39;companyInvoiceRefresh&#39;).click();\" disabled variant=\"success\" size=\"medium\">Save Internal Invoice</sl-button></div></div><div id=\"controlBox\" class=\"text-sm px-8 hidden w-full items-end pb-2 gap-5\"><div class=\"flex flex-col items-start\"><p class=\"text-gray-600\">Invoice Date:</p><input class=\"border border-gray-400 p-1 rounded\" type=\"date\" id=\"invoiceDate\"></div><div class=\"grow\"></div><div class=\"pb-3\"><sl-switch size=\"small\" id=\"toggleSelectedRows\">See Selection</sl-switch></div><div class=\"flex gap-3 items-end\"><div class=\"flex flex-col\"><label for=\"invFromDate\">From:</label> <input class=\"border border-gray-400 p-1 rounded\" type=\"date\" id=\"invFromDate\" class=\"w-32 border rounded\"></div><div class=\"flex flex-col\"><label for=\"invToDate\">To:</label> <input class=\"border border-gray-400 p-1 rounded\" type=\"date\" id=\"invToDate\" class=\"w-32 border rounded\"></div><sl-button size=\"small\" id=\"AddRangeBtn\" variant=\"primary\" class=\"\">Add Range</sl-button></div><sl-tooltip placement=\"top\" content=\"Refresh list\"><button size=\"small\" id=\"companyInvoiceRefresh\" class=\"bg-gray-50 border border-gray-300 hover:bg-blue-50 rounded p-2\" onclick=\"document.getElementById(&#39;getInvoiceFormBtn&#39;).click()\"><sl-icon class=\"text-gray-700 hover:text-blue-700 text-md\" name=\"arrow-clockwise\"></sl-icon></button></sl-tooltip></div><div class=\"border-b-[1px] border-b-gray-300 mx-5\"></div><div id=\"invoiceFormContent\" class=\"pt-3\"></div></div></div><script>\n\t\tvar choices = null\n\tfunction successAndClose(){\n\t\tdocument.getElementById(\"invoiceActionBtn\").loading=false;\n\t\t\tdocument.getElementById(\"invoiceFormContent\").innerHTML = \"\"\n\t\t\tdocument.getElementById(\"controlBox\").classList.add(\"hidden\")\n\t\t\tdocument.getElementById(\"invoiceActionBtn\").innerHTML = \"Save Internal Invoice\"\n\t\t\tdocument.getElementById(\"invoiceActionBtn\").disabled = true\n\t\t\tdocument.getElementById(\"invoiceTable\").classList.remove(\"hidden\")\n\t\t\tdocument.getElementById(\"createInvoiceDialog\").classList.add(\"hidden\")\n\t\t\tchoices.clearStore();\n}\n// Invoice form functionality\n  document.addEventListener('DOMContentLoaded', function () {\n      var selectElement = document.getElementById('selCompany');\n       choices = new Choices(selectElement, {\n        searchEnabled: true,\n        placeholder: false,\n\t\tallowHTML:false,\n\t\titemSelectText:\"\",\n        placeholderValue: '',\n        maxItemCount: 1,\n      });\n\t  // Add onchange listener\n  selectElement.addEventListener('change', function(event) {\n\tvar selCompany = selectElement.value.split(\"#\")\n\tif (!selCompany[0]){\n\t\treturn\n\t}\n\tvar formBtn = document.getElementById(\"getInvoiceFormBtn\");\n\t\tjsonData.companyId=selCompany[0];\n\t\tjsonData.uuidList=selCompany[1];\n\t\tformBtn.setAttribute(\"hx-headers\",JSON.stringify(jsonData));\n\t\tformBtn.click();\n\t\tdocument.getElementById(\"invoiceActionBtn\").disabled = false;\n\t\tdocument.getElementById(\"controlBox\").classList.remove(\"hidden\")\n\t\tdocument.getElementById(\"controlBox\").classList.add(\"flex\")\n  });\n\n\n\t//Filter button click listener\ndocument.getElementById(\"filterButton\").addEventListener(\"click\", function() {\n\tif (document.getElementById(\"createInvoiceDialog\").classList.contains(\"hidden\")){\n\t\treturn;\n\t}\n\tif (!selectElement.value){\n\t\talert(\"Please select a company\")\n\t\treturn;\n\t}\n\tvar selCompany = selectElement.value.spilt(\"#\")\n\tvar formBtn = document.getElementById(\"getInvoiceFormBtn\");\n\tjsonData.uuidList = selCompany[1]\n\tjsonData.companyId= selCompany[0]\n\tformBtn.setAttribute(\"hx-headers\",JSON.stringify(jsonData));\n\tformBtn.click();\n\tdocument.getElementById(\"invoiceActionBtn\").disabled = false;\n\tdocument.getElementById(\"controlBox\").classList.remove(\"hidden\")\n\tdocument.getElementById(\"controlBox\").classList.add(\"flex\")\n});\n\n\tvar jsonData = {};\n\t \n\t  document.getElementById('invoiceActionBtn').addEventListener('click',function(){\n\t\tvar btn = document.getElementById(\"invoiceActionBtn\");\n\t\tvar date = new Date(document.getElementById(\"invoiceDate\").value);\n\t\tjsonData.year = date.getFullYear().toString();\n  \t\tjsonData.month = String(date.getMonth() + 1).padStart(2, '0');\n\t\t//called from global function\n\t\tjsonData.selections = getSelectedCharges();\n\t\tif (!jsonData.selections.length){\n\t\t\talert(\"Please select charges to create invoice\")\n\t\t\treturn\n\t\t}\n\t\tconsole.log(jsonData)\n\t\tbtn.setAttribute(\"hx-headers\",JSON.stringify(jsonData))\n\t  })\n\n    // JavaScript for Tab Functionality\n      const tabs = document.querySelectorAll(\".tab-button\");\n      const tabPanels = document.querySelectorAll(\".tab-panel\");\n\n      tabs.forEach((tab) => {\n        tab.addEventListener(\"click\", () => {\n          tabs.forEach((t) => {\n            t.setAttribute(\"aria-selected\", \"false\");\n            t.classList.remove(\"bg-black\");\n            t.classList.add(\"bg-gray-800\");\n          });\n          tabPanels.forEach((panel) => panel.classList.add(\"hidden\"));\n\n          tab.setAttribute(\"aria-selected\", \"true\");\n          tab.classList.add(\"bg-black\");\n          tab.classList.remove(\"bg-gray-800\");\n          const panel = document.querySelector(\n            `#${tab.getAttribute(\"aria-controls\")}`,\n          );\n          panel.classList.remove(\"hidden\");\n        });\n      });\n\n\t///Toggle SelectedRows ///////////////\n\t//toggleSelectedRows\n\tconst toggleSelected = document.getElementById(\"toggleSelectedRows\")\n\ttoggleSelected.addEventListener('sl-change', () => {\n\t// tables\n\t\tvar cTable = document.querySelectorAll('#companyCharges tr');\n\t\tvar eTable = document.querySelectorAll('#employeeCharges tr');\n\t\tvar pTable = document.querySelectorAll('#pemployeeCharges tr');\n\t\tdocument.getElementById(\"employeeTableIds\").dataset.index.split(\",\").forEach(function(tableId){\n\t\t\tvar ppTable = document.querySelectorAll(`#${tableId} tr`);\n\t\t\tvar eeTable = document.querySelectorAll(`#p${tableId} tr`);\n\t\t\tif(toggleSelected.checked){\n\t\t\t\t\ttoggleSel(eeTable)\n\t\t\t\t\ttoggleSel(ppTable)\n\n\t\t\t\t}else{\n\t\t\t\t\tshowAll(eeTable)\n\t\t\t\t\tshowAll(ppTable)\n\n\t\t\t\t}\n\t\t})\n\n\t\tif(toggleSelected.checked){\n\t\ttoggleSel(cTable)\n\t\ttoggleSel(eTable)\n\t\ttoggleSel(pTable)\n\n\t}else{\n\t\tshowAll(cTable)\n\t\tshowAll(eTable)\n\t\tshowAll(pTable)\n\n\t}\n\t  function toggleSel(elements) {\n        elements.forEach((row) => {\n           if (!row.classList.contains(\"selected\")){\n\t\t\trow.classList.add(\"hidden\")\n\t\t   }\n        });\n    }\n\t\tfunction showAll(elements){\n\t\t\telements.forEach((row)=>{\n\t\t\t\trow.classList.remove(\"hidden\")\n\t\t\t})\n\t\t}\n\t})\n\n\t//INVOICE DATE//////////\n\t//Init dates\n\tvar invoiceDate = document.getElementById(\"invoiceDate\");\n\tinvoiceDate.value = formatDate(new Date());\n\tjsonData.year = invoiceDate.value .getFullYear().toString();\n  \tjsonData.month = String(invoiceDate.value .getMonth() + 1).padStart(2, '0');\nconsole.log(jsonData)\n\tinvoiceDate.addEventListener(\"change\", function (e) {\n\t\tinvoiceDate.value = formatDate(new Date(e.target.value));\n\t\tjsonData.year = invoiceDate.value .getFullYear().toString();\n  \t\tjsonData.month = String(invoiceDate.value .getMonth() + 1).padStart(2, '0');\n\t\tconsole.log(jsonData)\n\t});\n\n\t///Date Range ////////////\n  var fromDate = document.getElementById(\"invFromDate\");\n  var toDate = document.getElementById(\"invToDate\");\n\n  fromDate.setAttribute(\"max\", new Date().toISOString().split('T')[0]);\n  toDate.setAttribute(\"max\", new Date().toISOString().split('T')[0]);\n\tfromDate.addEventListener(\"change\", function (e) {\n\t\tfromDate.value = formatDate(new Date(e.target.value));\n\t});\n\ttoDate.addEventListener(\"change\", function (e) {\n\t\ttoDate.value = formatDate(new Date(e.target.value));\n\t});\n\n\t//Add range btn\n\tdocument.getElementById(\"AddRangeBtn\").addEventListener(\"click\",()=>{\n\t\tvar fDate = new Date(fromDate.value)\n\t\tvar tDate = new Date(toDate.value)\n\t\tif(fDate.toString() ===\"Invalid Date\" || tDate.toString() ===\"Invalid Date\" || fDate > tDate){\n\t\t\talert(\"Invalid date range\");\n\t\t\treturn;\n\t\t}\n\ttry{\n\t\t//Init table props\n\t\tvar companyTable = document.querySelectorAll(\"#companyCharges tbody tr td.date\")\n\t\tvar employeeTable = document.querySelectorAll(\"#employeeCharges tbody tr td.date\")\n\t\tvar payrollTable = document.querySelectorAll(\"#pemployeeCharges tbody tr td.selected\")\n\t\tperformSelection(companyTable,\"cCharge\")\n\t\tperformSelection(employeeTable,\"eCharge\")\n\n\t\tdocument.getElementById(\"employeeTableIds\").dataset.index.split(\",\").forEach(function(tableId){\n\t\t\ttry{\n\t\t\t//Grouped Employee Charges\n\t\t\tvar eTable = document.querySelectorAll(`#${tableId} tbody tr td.date`)\n\t\t\tperformSelection(eTable,`${tableId}-epCharge`)\n\t\t\t//Grouped Employee Payroll\n\t\t\tvar pTable = document.querySelectorAll(`#p${tableId} tbody tr td.date`)\n\t\t\tperformSelection(pTable,`p${tableId}-pCharge`)\n\t\t\t}catch (e){\n\t\t\t\t//handle error\n\t\t\t\tconsole.log(\"Table is empty\")\n\t\t\t}\n\t\t})\n\t\tperformSelection(payrollTable,\"pCharge\")\n\n\t}catch (e){\n\t\t//handle error\n\t\t\t\tconsole.log(\"Table is empty\")\n\t\t\t}\n\t\tfunction performSelection(data,id){\n\t\tfor (var i=0; i < data.length;i++){\n\t\t\tvar date = new Date(data[i].innerHTML)\n\t\t\tif (fDate <= date && tDate>=date ) {\n\t\t\t\tdocument.getElementById(`${id}-${i}`).classList.add(\"bg-blue-100\", \"selected\")\n\t\t\t\tdocument.getElementById(`check-${id}-${i}`).checked = true\n\t\t\t}\n\t\t}\t\n\t}\n\n\t})\n  })\n  </script>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			if !templ_7745c5c3_IsBuffer {
				_, templ_7745c5c3_Err = io.Copy(templ_7745c5c3_W, templ_7745c5c3_Buffer)
			}
			return templ_7745c5c3_Err
		})
		templ_7745c5c3_Err = layout.Base(false, data.Module, data.Page).Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if !templ_7745c5c3_IsBuffer {
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteTo(templ_7745c5c3_W)
		}
		return templ_7745c5c3_Err
	})
}

func showCreateInvoice() templ.ComponentScript {
	return templ.ComponentScript{
		Name: `__templ_showCreateInvoice_b09e`,
		Function: `function __templ_showCreateInvoice_b09e(){document.getElementById("invoiceTable").classList.add("hidden")
	document.getElementById("createInvoiceDialog").classList.remove("hidden")
	//Add Listener to cancel all requests for main page
	  document.getElementById("employee-invoice-tbody").addEventListener("htmx:configRequest", function(e) {
            // Cancel the request
            e.preventDefault();
        
    },{ once: true });
	document.getElementById("company-invoice-tbody").addEventListener("htmx:configRequest", function(e) {   
            // Cancel the request
            e.preventDefault();
    },{ once: true });
}`,
		Call:       templ.SafeScript(`__templ_showCreateInvoice_b09e`),
		CallInline: templ.SafeScriptInline(`__templ_showCreateInvoice_b09e`),
	}
}

func toggleTable(elementId string) templ.ComponentScript {
	return templ.ComponentScript{
		Name: `__templ_toggleTable_3ced`,
		Function: `function __templ_toggleTable_3ced(elementId){var x = document.getElementById(elementId);
	if (x.classList.contains("hidden")) {
		x.classList.remove("hidden");
		document.getElementById(elementId+"ShowIcon").classList.remove("fa-chevron-down");
		document.getElementById(elementId+"ShowIcon").classList.add("fa-chevron-up");
	} else {
		x.classList.add("hidden");
		document.getElementById(elementId+"ShowIcon").classList.remove("fa-chevron-up");
		document.getElementById(elementId+"ShowIcon").classList.add("fa-chevron-down");
	}
}`,
		Call:       templ.SafeScript(`__templ_toggleTable_3ced`, elementId),
		CallInline: templ.SafeScriptInline(`__templ_toggleTable_3ced`, elementId),
	}
}

func closeInvoiceForm() templ.ComponentScript {
	return templ.ComponentScript{
		Name: `__templ_closeInvoiceForm_cc2e`,
		Function: `function __templ_closeInvoiceForm_cc2e(){document.getElementById("invoiceTable").classList.remove("hidden")
	document.getElementById("createInvoiceDialog").classList.add("hidden")
}`,
		Call:       templ.SafeScript(`__templ_closeInvoiceForm_cc2e`),
		CallInline: templ.SafeScriptInline(`__templ_closeInvoiceForm_cc2e`),
	}
}
